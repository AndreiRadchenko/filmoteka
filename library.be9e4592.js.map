{"mappings":"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","sources":["src/library.js","src/js/library/header.js","src/js/modal-detail-lib.js","src/js/library/array.json","src/js/library/gallery.js"],"sourcesContent":["import '../node_modules/@fortawesome/fontawesome-free/js/fontawesome';\nimport '../node_modules/@fortawesome/fontawesome-free/js/solid';\nimport '../node_modules/@fortawesome/fontawesome-free/js/brands';\n\n// import './js/modal-spinner';\nimport './js/library/header';\nimport './js/index/authenticate';\nimport './js/library/gallery';\nimport './js/index/footer';\n\nimport './js/modal-login';\n// import './js/modal-detail-lib';\nimport './js/button-up';\nimport './js/modal-team';\nimport './js/modal-trailer';\n\nimport './js/firebase/firebase';\nimport './js/moviedb/moviedb';\n","import refs from '../refs';\nimport { renderGalleryLib } from './gallery';\nimport cloudStorage from '../firebase/cloudstorage';\nconst { WATCHED, QUEUE, NOT_ADDED } = cloudStorage.tags;\n\nrefs.wachedBtn.addEventListener('click', onWatchedBtnClick);\nrefs.queueBtn.addEventListener('click', onQueueBtnClick);\n\nfunction onWatchedBtnClick() {\n  cloudStorage\n    .getUserCollections()\n    .then(films => {\n      const watchedFilms = films?.filter(film => film.tag === WATCHED);\n      //   console.log(watchedFilms);\n\n      refs.wachedBtn.classList.add('library__btn--currenly');\n      refs.queueBtn.classList.remove('library__btn--currenly');\n      if (watchedFilms?.length) {\n        renderGalleryLib(watchedFilms);\n      } else {\n        refs.filmGalleryLib.innerHTML =\n          ' <h2>There are no films in \"Watched\" collection\"</h2>';\n      }\n    })\n    .catch(error => {});\n}\n\nfunction onQueueBtnClick() {\n  cloudStorage\n    .getUserCollections()\n    .then(films => {\n      const queueFilms = films?.filter(film => film.tag === QUEUE);\n      //   console.log(queueFilms);\n\n      refs.wachedBtn.classList.remove('library__btn--currenly');\n      refs.queueBtn.classList.add('library__btn--currenly');\n      if (queueFilms?.length) {\n        renderGalleryLib(queueFilms);\n      } else {\n        refs.filmGalleryLib.innerHTML =\n          ' <h2>There are no films in \"Queue\" collection\"</h2>';\n      }\n    })\n    .catch(error => {});\n}\n","import movieService from './moviedb/moviedb';\nimport { spinnerPlay, spinnerStop } from './modal-spinner';\nimport cloudStorage from './firebase/cloudstorage';\nimport renderGalleryLib from '../js/library/gallery';\nconst { WATCHED, QUEUE, NOT_ADDED } = cloudStorage.tags;\n\nconst ADD = 'add';\nconst DELETE = 'delete';\n\nconst refs = {\n  body: document.querySelector('body'),\n  showBackdrop: document.querySelector('[data-detail-modal]'),\n  modalDetail: document.querySelector('.modal-detal__container'),\n  closeModalBtn: document.querySelector('.modal-detail__cross-frame'),\n  moviePoster: document.querySelector('.movie-poster'),\n  movieInfo: document.querySelector('.movie-data'),\n  modalDetailBackdrop: document.querySelector('.modal-detail__backdrop'),\n};\n\nexport function renderModalDetail({ target }) {\n  if (target.classList.contains('gallery')) {\n    return;\n  }\n  spinnerPlay();\n  const filmCard = target.closest('[data-id]');\n  const id = filmCard.getAttribute('data-id');\n  this.id = '';\n  movieService\n    .getFilmsById(id)\n    .then(data => {\n      refs.showBackdrop.classList.remove('is-hidden');\n      const markup = modalDetailMarkup(data);\n      refs.modalDetail.innerHTML = markup;\n      cloudStorage.currentlyOpenedFilm.filmData = data;\n      (() => {\n        const refs = {\n          closeModalBtn: document.querySelector('.modal-detail__cross-frame'),\n          modalDetail: document.querySelector('[data-detail-modal]'),\n          moviePoster: document.querySelector('.movie-poster'),\n          movieInfo: document.querySelector('.movie-data'),\n          buttonWatched: document.querySelector('.button-watched'),\n          buttonQueue: document.querySelector('.button-queue'),\n        };\n\n        setButtonStyle({\n          buttonWatched: refs.buttonWatched,\n          buttonQueue: refs.buttonQueue,\n          id: data.id,\n        });\n\n        refs.closeModalBtn.addEventListener('click', closeModalDetail);\n        refs.buttonWatched.addEventListener('click', onButtonWatchedClick);\n        refs.buttonQueue.addEventListener('click', onButtonQueueClick);\n      })();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      document.body.classList.add('modal-open');\n      document.addEventListener('keydown', onModalDetailKeydown);\n      refs.modalDetailBackdrop.addEventListener(\n        'click',\n        onModalDetailBackdropClick\n      );\n      spinnerStop();\n    });\n}\n\nfunction closeModalDetail() {\n  refs.modalDetailBackdrop.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n  document.removeEventListener('keydown', onModalDetailKeydown);\n  refs.modalDetailBackdrop.removeEventListener(\n    'click',\n    onModalDetailBackdropClick\n  );\n  refreshLibrary();\n}\n\nfunction onModalDetailKeydown(event) {\n  if (event.code === 'Escape') {\n    closeModalDetail();\n  }\n}\n\nfunction onModalDetailBackdropClick(event) {\n  if (event.target === refs.modalDetailBackdrop) {\n    closeModalDetail();\n  }\n}\n\nasync function refreshLibrary() {\n  let currentLibrary;\n  try {\n    const btnWatchedCollection = document.querySelector('.js-btn-watched');\n    if (btnWatchedCollection.classList.contains('library__btn--currenly')) {\n      currentLibrary = WATCHED;\n    } else {\n      currentLibrary = QUEUE;\n    }\n    await cloudStorage\n      .getUserCollections()\n      .then(films => {\n        const filmsSorted = films?.filter(film => film.tag === currentLibrary);\n        //   console.log(watchedFilms);\n        if (filmsSorted.length) {\n          renderGalleryLib(filmsSorted);\n        } else {\n          refs.filmGalleryLib.innerHTML =\n            ' <h2>There are no films in \"Watched\" collection\"</h2>';\n        }\n      })\n      .catch(error => console.log(error));\n  } catch (error) {\n    console.log('on main page');\n    return;\n  }\n}\n\nasync function setButtonStyle({ buttonWatched, buttonQueue, id }) {\n  const tag = await cloudStorage.searchFilmInCollection(id);\n  if (tag === WATCHED) {\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.classList.add('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  } else if (tag === QUEUE) {\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.classList.add('button-active');\n  } else {\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  }\n}\n\nasync function onButtonWatchedClick({ target: buttonWatched }) {\n  const modalContainer = document.querySelector('.modal-detal__container');\n  const buttonQueue = document.querySelector('.button-queue');\n  const watchedBtnState = buttonWatched.dataset.action;\n  const queueBtnState = buttonQueue.dataset.action;\n  if (watchedBtnState === ADD && queueBtnState === ADD) {\n    cloudStorage.addFilmToCollection(WATCHED);\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.classList.add('button-active');\n  } else if (watchedBtnState === ADD && queueBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    await cloudStorage.addFilmToCollection(WATCHED);\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.classList.add('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  } else if (watchedBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.classList.remove('button-active');\n  }\n  // modalContainer.click();\n}\n\nasync function onButtonQueueClick({ target: buttonQueue }) {\n  const modalContainer = document.querySelector('.modal-detal__container');\n  const buttonWatched = document.querySelector('.button-watched');\n  const watchedBtnState = buttonWatched.dataset.action;\n  const queueBtnState = buttonQueue.dataset.action;\n  if (queueBtnState === ADD && watchedBtnState === ADD) {\n    cloudStorage.addFilmToCollection(QUEUE);\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.classList.add('button-active');\n  } else if (queueBtnState === ADD && watchedBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    await cloudStorage.addFilmToCollection(QUEUE);\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.classList.add('button-active');\n\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n  } else if (queueBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.classList.remove('button-active');\n  }\n  // modalContainer.click();\n}\n\nconst modalDetailMarkup = ({\n  id,\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  genres,\n  overview,\n}) => {\n  return ` <div class=\"modal-detail__cross-frame\">\n      <i class=\"fa-solid fa-xmark\"></i>\n    </div>\n  <div class=\"movie-poster\">\n  <img\n            class=\"movie-image\" data-id=\"${id}\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"\n            alt=\"\"\n          />\n               <div class=\"modal-detail__youtube\" data-modal-youtube>\n      <i class=\"fa-brands fa-youtube\"></i>\n    </div>\n          </div>\n           <div class=\"movie-data\">\n          <h2 class=\"data__title\">${title}</h2>\n          <ul class=\"data__list list\">\n            <li class=\"list__item\">\n              <p class=\"data__item\">Vote / Votes\n              </p>\n              <p class=\"data__info\">\n                <span class=\"data__span data__span--orange\">${vote_average}</span>\n                <span data__span--divider> / </span>\n                <span class=\"data__span\">${vote_count}</span>\n              </p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Popularity</p>\n              <p class=\"data__info\">${popularity}</p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Original Title</p>\n              <p class=\"data__info data__info--upper\">${original_title}</p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Genre</p>\n              <p class=\"data__info\">${genres\n                .map(genre => genre.name)\n                .join(', ')}</p>\n            </li>\n          </ul>\n          <p class=\"data__about\">About</p>\n          <p class=\"data__about-text\">${overview}</p>\n  <div class=\"buttons\">\n        <button\n          type=\"button\"\n          class=\"modal-detail__button button-watched\"\n          data-click=\"addToWached\"\n          data-action=\"add\"\n        >\n          Add to watched\n        </button>\n        <button\n          type=\"button\"\n          data-action=\"add\"\n          class=\"modal-detail__button button-queue\"\n          data-click=\"addToQueue\"\n        >\n          Add to queue\n        </button>\n      </div>\n    </div>`;\n};\n","{\n    \"page\": 1,\n    \"results\": [\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/lqtwpcqApnsNF9wS7PGmbHtqpix.jpg\",\n        \"id\": 49046,\n        \"title\": \"All Quiet on the Western Front\",\n        \"original_language\": \"de\",\n        \"original_title\": \"Im Westen nichts Neues\",\n        \"overview\": \"Paul Baumer and his friends Albert and Muller, egged on by romantic dreams of heroism, voluntarily enlist in the German army. Full of excitement and patriotic fervour, the boys enthusiastically march into a war they believe in. But once on the Western Front, they discover the soul-destroying horror of World War I.\",\n        \"poster_path\": \"/hYqOjJ7Gh1fbqXrxlIao1g8ZehF.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        18,\n        36,\n        10752\n        ],\n        \"popularity\": 81.845,\n        \"release_date\": \"2022-10-07\",\n        \"video\": false,\n        \"vote_average\": 7.8,\n        \"vote_count\": 32\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/bUjPcNS8GweBh5Nxp8oq9Dy712Z.jpg\",\n        \"id\": 913290,\n        \"title\": \"Barbarian\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Barbarian\",\n        \"overview\": \"In town for a job interview, a young woman arrives at her Airbnb late at night only to find that it has been mistakenly double-booked and a strange man is already staying there. Against her better judgement, she decides to stay the night anyway, but soon discovers that there is much more to be afraid of in the house than the other guest.\",\n        \"poster_path\": \"/idT5mnqPcJgSkvpDX7pJffBzdVH.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        27,\n        9648,\n        53\n        ],\n        \"popularity\": 527.701,\n        \"release_date\": \"2022-09-08\",\n        \"video\": false,\n        \"vote_average\": 7.2,\n        \"vote_count\": 244\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/x2U0R60Z7hmJxZixzsGZfjFJbve.jpg\",\n        \"id\": 541134,\n        \"title\": \"The Good Nurse\",\n        \"original_language\": \"en\",\n        \"original_title\": \"The Good Nurse\",\n        \"overview\": \"Suspicious that her colleague is responsible for a series of mysterious patient deaths, a nurse risks her own life to uncover the truth in this gripping thriller based on true events.\",\n        \"poster_path\": \"/rSq6cq0LCcbro10jbEaPTEb3WmW.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        18,\n        80,\n        9648\n        ],\n        \"popularity\": 104.972,\n        \"release_date\": \"2022-10-19\",\n        \"video\": false,\n        \"vote_average\": 7.25,\n        \"vote_count\": 90\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/oKqsZr4Jq1Y3fPZ0ufgzUs2ToK2.jpg\",\n        \"id\": 532870,\n        \"title\": \"Run Sweetheart Run\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Run Sweetheart Run\",\n        \"overview\": \"Initially apprehensive when her boss insists she meet with one of his most important clients, single mom Cherie is relieved and excited when she meets charismatic Ethan. The influential businessman defies expectations and sweeps Cherie off her feet. But at the end of the night, when the two are alone together, he reveals his true, violent nature. Battered and terrified, she flees for her life, beginning a relentless game of cat-and-mouse with a bloodthirsty assailant hell-bent on her utter destruction. In this edge-of-your-seat dark thriller, Cherie finds herself in the crosshairs of a conspiracy stranger and more evil than she could have ever imagined.\",\n        \"poster_path\": \"/hgep5jT30HJwqfJVNCoPuRzlF.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        53,\n        9648,\n        27\n        ],\n        \"popularity\": 11.343,\n        \"release_date\": \"2022-10-28\",\n        \"video\": false,\n        \"vote_average\": 6.5,\n        \"vote_count\": 6\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/bQXAqRx2Fgc46uCVWgoPz5L5Dtr.jpg\",\n        \"id\": 436270,\n        \"title\": \"Black Adam\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Black Adam\",\n        \"overview\": \"Nearly 5,000 years after he was bestowed with the almighty powers of the Egyptian gods—and imprisoned just as quickly—Black Adam is freed from his earthly tomb, ready to unleash his unique form of justice on the modern world.\",\n        \"poster_path\": \"/3zXceNTtyj5FLjwQXuPvLYK5YYL.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        878,\n        14\n        ],\n        \"popularity\": 3835.264,\n        \"release_date\": \"2022-10-19\",\n        \"video\": false,\n        \"vote_average\": 7.1,\n        \"vote_count\": 594\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/v3Mc67AUN77h0BR9GymiPs4x96H.jpg\",\n        \"id\": 511817,\n        \"title\": \"Wendell & Wild\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Wendell & Wild\",\n        \"overview\": \"Two demon brothers enlist the aid of Kat Elliot — a tough teen with a load of guilt — to summon them to the Land of the Living. But what Kat demands in return leads to a brilliantly bizarre and comedic adventure like no other.\",\n        \"poster_path\": \"/5dsX6UAHqkQz1kiV8bs8SvjyVNa.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        16,\n        35,\n        14,\n        12\n        ],\n        \"popularity\": 34.226,\n        \"release_date\": \"2022-10-21\",\n        \"video\": false,\n        \"vote_average\": 8.5,\n        \"vote_count\": 3\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/4O9kFXsBjlxtgzXWHfgMS9CjhbN.jpg\",\n        \"id\": 619730,\n        \"title\": \"Don't Worry Darling\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Don't Worry Darling\",\n        \"overview\": \"Alice and Jack are lucky to be living in the idealized community of Victory, the experimental company town housing the men who work for the top-secret Victory Project and their families. But when cracks in their idyllic life begin to appear, exposing flashes of something much more sinister lurking beneath the attractive façade, Alice can’t help questioning exactly what they’re doing in Victory, and why.\",\n        \"poster_path\": \"/jOqxKIOC92BVyinYO1Fm73XY7Tc.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        53,\n        9648,\n        18\n        ],\n        \"popularity\": 984.728,\n        \"release_date\": \"2022-09-21\",\n        \"video\": false,\n        \"vote_average\": 6.89,\n        \"vote_count\": 589\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/xXSjMjCdZ6v7NIFvsSMNqe4ySkF.jpg\",\n        \"id\": 1032950,\n        \"title\": \"Hellhole\",\n        \"original_language\": \"pl\",\n        \"original_title\": \"Ostatnia Wieczerza\",\n        \"overview\": \"In a monastery cut off from the world, the monks run a clinic for the possessed. One day, a young policeman Marek comes to the convent. Posing as a clergyman, he penetrates monastic life and tries to explain the recent, mysterious disappearance of several tormented inmates. It turns out, however, that there is no way out of the monastery.\",\n        \"poster_path\": \"/y47wBamj9vdqBeGaLEFTrYEPTeC.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        27\n        ],\n        \"popularity\": 76.426,\n        \"release_date\": \"2022-10-26\",\n        \"video\": false,\n        \"vote_average\": 6.885,\n        \"vote_count\": 27\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/ulyR4pWVMRtVcanoassVbmgfEPT.jpg\",\n        \"id\": 800939,\n        \"title\": \"Ticket to Paradise\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Ticket to Paradise\",\n        \"overview\": \"A divorced couple teams up and travels to Bali to stop their daughter from making the same mistake they think they made 25 years ago.\",\n        \"poster_path\": \"/1tzERH50P5c2mFWtLbgixzLZS1L.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        35,\n        10749\n        ],\n        \"popularity\": 186.699,\n        \"release_date\": \"2022-09-08\",\n        \"video\": false,\n        \"vote_average\": 6.832,\n        \"vote_count\": 152\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/jvulRWEbRnDpUx0UUBB42IuTe87.jpg\",\n        \"id\": 873125,\n        \"title\": \"Robbing Mussolini\",\n        \"original_language\": \"it\",\n        \"original_title\": \"Rapiniamo il Duce\",\n        \"overview\": \"At the end of WWII, a black marketeer and a nightclub singer put together a ragtag bunch of misfits to carry out an impossible heist: to steal Mussolini's treasure right from his headquarters.\",\n        \"poster_path\": \"/cbdHqb0kZTgF7jQbUw41KEYVInb.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        12,\n        35,\n        80,\n        10752\n        ],\n        \"popularity\": 17.884,\n        \"release_date\": \"2022-10-26\",\n        \"video\": false,\n        \"vote_average\": 5.929,\n        \"vote_count\": 35\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/jv3UA95sQZkJYRVFsoGoxy3ixcL.jpg\",\n        \"id\": 962232,\n        \"title\": \"Beyond the Universe\",\n        \"original_language\": \"pt\",\n        \"original_title\": \"Depois do Universo\",\n        \"overview\": \"While waiting for a kidney transplant, a young pianist finds an unexpected connection with her doctor — and the courage to fulfill her musical dreams.\",\n        \"poster_path\": \"/uWsAh49dkyFe2tNTtIoqq6IdiBq.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        10749,\n        18,\n        35\n        ],\n        \"popularity\": 47.144,\n        \"release_date\": \"2022-10-27\",\n        \"video\": false,\n        \"vote_average\": 7.367,\n        \"vote_count\": 15\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/akYTfFvYkFGJReFxXM841NidlAa.jpg\",\n        \"id\": 1033107,\n        \"title\": \"Wild Is the Wind\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Wild Is the Wind\",\n        \"overview\": \"When two corrupt police officers investigate the brutal murder of a young girl, tensions come to a head in their small, racially-segregated town.\",\n        \"poster_path\": \"/fMpeA7d6yk18maGMJ3fSkjKp4z6.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        80,\n        18\n        ],\n        \"popularity\": 46.659,\n        \"release_date\": \"2022-10-28\",\n        \"video\": false,\n        \"vote_average\": 5.7,\n        \"vote_count\": 3\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/y5Z0WesTjvn59jP6yo459eUsbli.jpg\",\n        \"id\": 663712,\n        \"title\": \"Terrifier 2\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Terrifier 2\",\n        \"overview\": \"After being resurrected by a sinister entity, Art the Clown returns to Miles County where he must hunt down and destroy a teenage girl and her younger brother on Halloween night.  As the body count rises, the siblings fight to stay alive while uncovering the true nature of Art's evil intent.\",\n        \"poster_path\": \"/yw8NQyvbeNXoZO6v4SEXrgQ27Ll.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        27,\n        53\n        ],\n        \"popularity\": 5162.285,\n        \"release_date\": \"2022-10-06\",\n        \"video\": false,\n        \"vote_average\": 7.412,\n        \"vote_count\": 182\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/oxUG1YVKDXz8GqC57LuhZHLVscf.jpg\",\n        \"id\": 949423,\n        \"title\": \"Pearl\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Pearl\",\n        \"overview\": \"Trapped on her family’s isolated farm, Pearl must tend to her ailing father under the bitter and overbearing watch of her devout mother. Lusting for a glamorous life like she’s seen in the movies, Pearl’s ambitions, temptations and repressions collide.\",\n        \"poster_path\": \"/ulBLIBqvdnf4H6JBt0OpMCU1ECn.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        27,\n        9648,\n        53,\n        35\n        ],\n        \"popularity\": 212.484,\n        \"release_date\": \"2022-09-16\",\n        \"video\": false,\n        \"vote_average\": 6.99,\n        \"vote_count\": 102\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/rKMnvM9wh14XJabEL8AHhW2sZxZ.jpg\",\n        \"id\": 760204,\n        \"title\": \"The Lair\",\n        \"original_language\": \"en\",\n        \"original_title\": \"The Lair\",\n        \"overview\": \"Royal Air Force pilot Lt. Kate Sinclair is on her final flight mission when her jet is shot down over one of the most dangerous rebel strongholds in Afghanistan. She finds refuge in an abandoned underground bunker where deadly man-made creatures known as Ravagers — half-human, half-alien, and hungry for human flesh — are awakened.\",\n        \"poster_path\": \"/ifRFLx83Xk1DcwAS3OScgI6HmWO.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        27\n        ],\n        \"popularity\": 9.59,\n        \"release_date\": \"2022-08-25\",\n        \"video\": false,\n        \"vote_average\": 4.8,\n        \"vote_count\": 6\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/zt6sKnx9dEiRCb7oVMlfmmMGJMO.jpg\",\n        \"id\": 718930,\n        \"title\": \"Bullet Train\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Bullet Train\",\n        \"overview\": \"Unlucky assassin Ladybug is determined to do his job peacefully after one too many gigs gone off the rails. Fate, however, may have other plans, as Ladybug's latest mission puts him on a collision course with lethal adversaries from around the globe—all with connected, yet conflicting, objectives—on the world's fastest train.\",\n        \"poster_path\": \"/tVxDe01Zy3kZqaZRNiXFGDICdZk.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        35,\n        53\n        ],\n        \"popularity\": 1696.55,\n        \"release_date\": \"2022-07-03\",\n        \"video\": false,\n        \"vote_average\": 7.52,\n        \"vote_count\": 2042\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/5GA3vV1aWWHTSDO5eno8V5zDo8r.jpg\",\n        \"id\": 760161,\n        \"title\": \"Orphan: First Kill\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Orphan: First Kill\",\n        \"overview\": \"After escaping from an Estonian psychiatric facility, Leena Klammer travels to America by impersonating Esther, the missing daughter of a wealthy family. But when her mask starts to slip, she is put against a mother who will protect her family from the murderous “child” at any cost.\",\n        \"poster_path\": \"/pHkKbIRoCe7zIFvqan9LFSaQAde.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        27,\n        53\n        ],\n        \"popularity\": 1865.482,\n        \"release_date\": \"2022-07-27\",\n        \"video\": false,\n        \"vote_average\": 6.779,\n        \"vote_count\": 1150\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/5yW2BjqjTLTvJqQ7dRJjiDu9oEL.jpg\",\n        \"id\": 1026822,\n        \"title\": \"Cici\",\n        \"original_language\": \"tr\",\n        \"original_title\": \"Cici\",\n        \"overview\": \"A family migrates to the city after a tragic loss. When they reunite in their hometown 30 years later, buried emotions and painful secrets resurface.\",\n        \"poster_path\": \"/hzB4hGHkW4NGnjhqTSyTj9AbgGO.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        18\n        ],\n        \"popularity\": 50.936,\n        \"release_date\": \"2022-10-27\",\n        \"video\": false,\n        \"vote_average\": 6.2,\n        \"vote_count\": 5\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/yYrvN5WFeGYjJnRzhY0QXuo4Isw.jpg\",\n        \"id\": 505642,\n        \"title\": \"Black Panther: Wakanda Forever\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Black Panther: Wakanda Forever\",\n        \"overview\": \"Queen Ramonda, Shuri, M’Baku, Okoye and the Dora Milaje fight to protect their nation from intervening world powers in the wake of King T’Challa’s death. As the Wakandans strive to embrace their next chapter, the heroes must band together with the help of War Dog Nakia and Everett Ross and forge a new path for the kingdom of Wakanda.\",\n        \"poster_path\": \"/sv1xJUazXeYqALzczSZ3O6nkH75.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        12,\n        878\n        ],\n        \"popularity\": 434.182,\n        \"release_date\": \"2022-11-09\",\n        \"video\": false,\n        \"vote_average\": 0,\n        \"vote_count\": 0\n        },\n        {\n        \"adult\": false,\n        \"backdrop_path\": \"/odJ4hx6g6vBt4lBWKFD1tI8WS4x.jpg\",\n        \"id\": 361743,\n        \"title\": \"Top Gun: Maverick\",\n        \"original_language\": \"en\",\n        \"original_title\": \"Top Gun: Maverick\",\n        \"overview\": \"After more than thirty years of service as one of the Navy’s top aviators, and dodging the advancement in rank that would ground him, Pete “Maverick” Mitchell finds himself training a detachment of TOP GUN graduates for a specialized mission the likes of which no living pilot has ever seen.\",\n        \"poster_path\": \"/62HCnUTziyWcpDaBO2i1DX17ljH.jpg\",\n        \"media_type\": \"movie\",\n        \"genre_ids\": [\n        28,\n        18\n        ],\n        \"popularity\": 827.169,\n        \"release_date\": \"2022-05-24\",\n        \"video\": false,\n        \"vote_average\": 8.351,\n        \"vote_count\": 4462\n        }\n    ],\n    \"total_pages\": 1000,\n    \"total_results\": 20000\n}","import { renderModalDetail } from '../modal-detail-lib';\nimport refs from '../refs';\nimport galleryArray from '../library/array.json';\nimport cloudStorage from '../firebase/cloudstorage';\nimport { spinnerPlay, spinnerStop } from '../modal-spinner';\nconst { WATCHED, QUEUE, NOT_ADDED } = cloudStorage.tags;\n\nexport const renderGalleryLib = galleryArray => {\n  refs.filmGalleryLib.innerHTML = ' ';\n  const result = galleryArray\n    .map(\n      ({\n        poster_path,\n        original_title,\n        genre_ids,\n        release_date,\n        id,\n        vote_average,\n      }) => `<div class=\"film__card\" data-id=${id}>\n            <a class=\"film__link link\" href=\"\" onclick=\"event.preventDefault()\">\n            <img class=\"film__img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" loading=\"lazy\" />\n            <div class=\"film__info\">\n                <h3 class=\"film__title\">\n                ${original_title}\n                </h3>\n                <div class=\"film__details\">\n            <div class=\"film__genre\">${genre_ids}</div>\n            <div class=\"film__year\">${release_date.substr(0, 4)}</div>\n            <div class=\"film__rating\">${vote_average.toFixed(1)}</div>\n            </div>\n            </div>\n            </a>\n        </div>`\n    )\n    .join('');\n  refs.filmGalleryLib.innerHTML = result;\n};\nspinnerPlay();\ncloudStorage\n  .getUserCollections()\n  .then(films => {\n    const watchedFilms = films?.filter(film => film.tag === WATCHED);\n    // console.log(watchedFilms);\n\n    refs.wachedBtn.classList.add('library__btn--currenly');\n    refs.queueBtn.classList.remove('library__btn--currenly');\n    if (!watchedFilms) {\n      refs.filmGalleryLib.innerHTML =\n        ' <h2>Please login to viewe personal collections</h2>';\n      return;\n    }\n    if (watchedFilms.length) {\n      renderGalleryLib(watchedFilms);\n    } else {\n      refs.filmGalleryLib.innerHTML =\n        ' <h2>There are no films in \"Watched\" collection\"</h2>';\n    }\n  })\n  .catch(error => {\n    if (error.message === 'No_USER') {\n      refs.wachedBtn.classList.add('disabled');\n      refs.queueBtn.classList.add('disabled');\n      refs.filmGalleryLib.innerHTML =\n        ' <h2>Please login to viewe personal collections</h2>';\n      return;\n    }\n  })\n  .finally(() => spinnerStop());\n\n// getArreyWatched = () => {\n//   // const arreyWatched = localStorage.getItem('wached'); //тут повинен приходити массив фільмів з localStorage ті що в переглянуті\n//   const arreyWatched = galleryArray.results;\n//   refs.wachedBtn.classList.toggle('library__btn--currenly');\n//   refs.queueBtn.classList.remove('library__btn--currenly');\n//   if (arreyWatched) {\n//     // const arrWatched = JSON.parse(arreyWatched);\n//     renderGalleryLib(arreyWatched);\n//   } else {\n//     refs.filmGalleryLib.innerHTML = ' ';\n//   }\n// };\n\n// getArreyQueue = () => {\n//   // const arreyQueue = localStorage.getItem('queue'); //тут повинен приходити массив фільмів з localStorage ті що в черзі\n//   const arreyQueue = galleryArray.results;\n//   refs.queueBtn.classList.toggle('library__btn--currenly');\n//   refs.wachedBtn.classList.remove('library__btn--currenly');\n//   if (arreyQueue) {\n//     // const arrQueue = JSON.parse(arreyQueue);\n//     renderGalleryLib(arreyQueue);\n//   } else {\n//     refs.filmGalleryLib.innerHTML = ' ';\n//   }\n// };\n\n// changeTheme = () => {\n//   refs.body.classList.toggle('dark-theme');\n//   refs.filmGalleryLib.classList.toggle('dark-theme');\n// };\n\nrefs.filmGalleryLib.addEventListener('click', renderModalDetail);\n\nexport default renderGalleryLib;\n// refs.themeBtn.addEventListener('input', changeTheme);\n"],"names":["parcelRequire","$4Nugj","$bpxeT","$58d2cafe47578f36$var$_tags","default","tags","$58d2cafe47578f36$var$WATCHED","WATCHED","$58d2cafe47578f36$var$QUEUE","QUEUE","$58d2cafe47578f36$var$ADD","NOT_ADDED","$58d2cafe47578f36$var$DELETE","$58d2cafe47578f36$var$refs","body","document","querySelector","showBackdrop","modalDetail","closeModalBtn","moviePoster","movieInfo","modalDetailBackdrop","$58d2cafe47578f36$var$closeModalDetail","classList","add","remove","removeEventListener","$58d2cafe47578f36$var$onModalDetailKeydown","$58d2cafe47578f36$var$onModalDetailBackdropClick","$58d2cafe47578f36$var$_refreshLibrary","apply","this","arguments","$58d2cafe47578f36$var$refreshLibrary","event","code","target","$parcel$interopDefault","$2TvXO","mark","_callee","currentLibrary","btnWatchedCollection","contains","$hRbC3","getUserCollections","then","films","filmsSorted","filter","film","tag","length","$2e62e64138152ef0$export$2e2bcd8739ae039","filmGalleryLib","innerHTML","catch","error","console","log","$58d2cafe47578f36$var$_setButtonStyle","param","buttonWatched","buttonQueue","id","searchFilmInCollection","_ctx","sent","textContent","dataset","action","$58d2cafe47578f36$var$onButtonWatchedClick","_","$58d2cafe47578f36$var$_onButtonWatchedClick","watchedBtnState","queueBtnState","addFilmToCollection","deleteFilmFromCollection","currentlyOpenedFilm","filmData","$58d2cafe47578f36$var$onButtonQueueClick","$58d2cafe47578f36$var$_onButtonQueueClick","$58d2cafe47578f36$var$modalDetailMarkup","poster_path","title","vote_average","vote_count","popularity","original_title","genres","overview","concat","map","genre","name","join","JSON","parse","$2e62e64138152ef0$var$_tags","$2e62e64138152ef0$var$WATCHED","$2e62e64138152ef0$export$bbc79a193b8d13af","galleryArray1","result","genre_ids","release_date","substr","toFixed","$eQLRL","spinnerPlay","watchedFilms","wachedBtn","queueBtn","message","finally","spinnerStop","addEventListener","closest","getAttribute","$2oYM3","getFilmsById","data","refs1","markup","$58d2cafe47578f36$var$setButtonStyle","$d9d8599c0bf79a84$var$_tags","$d9d8599c0bf79a84$var$WATCHED","$d9d8599c0bf79a84$var$QUEUE","queueFilms"],"version":3,"file":"library.be9e4592.js.map"}