!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=e.parcelRequired7c6;null==o&&((o=function(t){if(t in a)return a[t].exports;if(t in n){var e=n[t];delete n[t];var o={id:t,exports:{}};return a[t]=o,e.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){n[t]=e},e.parcelRequired7c6=o),o("9h1VZ"),o("cVYaS"),o("fJHat");var i=o("2oYM3"),c=(i=o("2oYM3"),o("bpxeT")),l=o("2TvXO"),d=(i=o("2oYM3"),o("eQLRL")),s=o("hRbC3"),r=o("ijwS8"),u=s.default.tags,p=u.WATCHED,m=u.QUEUE,f=(u.NOT_ADDED,"add"),b="delete",v={body:document.querySelector("body"),showBackdrop:document.querySelector("[data-detail-modal]"),modalDetail:document.querySelector(".modal-detal__container"),closeModalBtn:document.querySelector(".modal-detail__cross-frame"),moviePoster:document.querySelector(".movie-poster"),movieInfo:document.querySelector(".movie-data"),modalDetailBackdrop:document.querySelector(".modal-detail__backdrop"),gallery:document.querySelector(".gallery"),pagination:document.querySelector(".pagination")};function _(){v.modalDetailBackdrop.classList.add("is-hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",y),v.modalDetailBackdrop.removeEventListener("click",g)}function y(t){"Escape"===t.code&&_()}function g(t){t.target===v.modalDetailBackdrop&&_()}function h(){return(h=t(c)(t(l).mark((function e(a){var n,o,i,c;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.buttonWatched,o=a.buttonQueue,i=a.id,t.next=3,s.default.searchFilmInCollection(i);case 3:(c=t.sent)===p?(n.textContent="Remove from watched",n.dataset.action=b,n.classList.add("button-active"),o.textContent="Add to queue",o.dataset.action=f,o.classList.remove("button-active")):c===m?(n.textContent="Add to watched",n.dataset.action=f,n.classList.remove("button-active"),o.textContent="Remove from queue",o.dataset.action=b,o.classList.add("button-active")):(n.textContent="Add to watched",n.dataset.action=f,n.classList.remove("button-active"),o.textContent="Add to queue",o.dataset.action=f,o.classList.remove("button-active"));case 5:case"end":return t.stop()}}),e)})))).apply(this,arguments)}function x(t){return L.apply(this,arguments)}function L(){return(L=t(c)(t(l).mark((function e(a){var n,o,i,c;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.target,document.querySelector(".modal-detal__container"),o=document.querySelector(".button-queue"),i=n.dataset.action,c=o.dataset.action,i!==f||c!==f){t.next=18;break}return t.prev=6,t.next=9,s.default.addFilmToCollection(p);case 9:n.dataset.action=b,n.textContent="Remove from watched",n.classList.add("button-active"),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(6);case 16:t.next=37;break;case 18:if(i!==f||c!==b){t.next=31;break}return t.next=21,s.default.deleteFilmFromCollection(s.default.currentlyOpenedFilm.filmData.id);case 21:return t.next=23,s.default.addFilmToCollection(p);case 23:n.dataset.action=b,n.textContent="Remove from watched",n.classList.add("button-active"),o.textContent="Add to queue",o.dataset.action=f,o.classList.remove("button-active"),t.next=37;break;case 31:if(i!==b){t.next=37;break}return t.next=34,s.default.deleteFilmFromCollection(s.default.currentlyOpenedFilm.filmData.id);case 34:n.dataset.action=f,n.textContent="Add to watched",n.classList.remove("button-active");case 37:case"end":return t.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function k(t){return w.apply(this,arguments)}function w(){return(w=t(c)(t(l).mark((function e(a){var n,o,i,c;return t(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.target,document.querySelector(".modal-detal__container"),o=document.querySelector(".button-watched"),i=o.dataset.action,(c=n.dataset.action)!==f||i!==f){t.next=18;break}return t.prev=6,t.next=9,s.default.addFilmToCollection(m);case 9:n.dataset.action=b,n.textContent="Remove from queue",n.classList.add("button-active"),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(6);case 16:t.next=42;break;case 18:if(c!==f||i!==b){t.next=36;break}return t.next=21,s.default.deleteFilmFromCollection(s.default.currentlyOpenedFilm.filmData.id);case 21:return t.prev=21,t.next=24,s.default.addFilmToCollection(m);case 24:n.dataset.action=b,n.textContent="Remove from queue",n.classList.add("button-active"),o.textContent="Add to watched",o.dataset.action=f,o.classList.remove("button-active"),t.next=34;break;case 32:t.prev=32,t.t1=t.catch(21);case 34:t.next=42;break;case 36:if(c!==b){t.next=42;break}return t.next=39,s.default.deleteFilmFromCollection(s.default.currentlyOpenedFilm.filmData.id);case 39:n.dataset.action=f,n.textContent="Add to queue",n.classList.remove("button-active");case 42:case"end":return t.stop()}}),e,null,[[6,14],[21,32]])})))).apply(this,arguments)}var q=function(t){var e=t.id,a=t.poster_path,n=t.title,o=t.vote_average,i=t.vote_count,c=t.popularity,l=t.original_title,d=t.genres,s=t.overview;return' <div class="modal-detail__cross-frame">\n      <i class="fa-solid fa-xmark"></i>\n    </div>\n  <div class="movie-poster">\n  <img\n            class="movie-image" data-id="'.concat(e,'"\n            src="https://image.tmdb.org/t/p/w500/').concat(a,'"\n            alt=""\n          />\n          <div class="modal-detail__youtube" data-modal-youtube>\n      <i class="fa-brands fa-youtube"></i>\n    </div>\n          </div>\n           <div class="movie-data">\n          <h2 class="data__title">').concat(n,'</h2>\n          <ul class="data__list list">\n            <li class="list__item">\n              <p class="data__item">Vote / Votes\n              </p>\n              <p class="data__info">\n                <span class="data__span data__span--orange">').concat(o,'</span>\n                <span data__span--divider> / </span>\n                <span class="data__span">').concat(i,'</span>\n              </p>\n            </li>\n            <li class="list__item">\n              <p class="data__item">Popularity</p>\n              <p class="data__info">').concat(c,'</p>\n            </li>\n            <li class="list__item">\n              <p class="data__item">Original Title</p>\n              <p class="data__info data__info--upper">').concat(l,'</p>\n            </li>\n            <li class="list__item">\n              <p class="data__item">Genre</p>\n              <p class="data__info">').concat(d.map((function(t){return t.name})).join(", "),'</p>\n            </li>\n          </ul>\n          <p class="data__about">About</p>\n          <p class="data__about-text">').concat(s,'</p>\n  <div class="buttons">\n        <button\n          type="button"\n          class="modal-detail__button button-watched"\n          data-click="addToWached"\n          data-action="add"\n        >\n          Add to watched\n        </button>\n        <button\n          type="button"\n          data-action="add"\n          class="modal-detail__button button-queue"\n          data-click="addToQueue"\n        >\n          Add to queue\n        </button>\n      </div>\n    </div>')},S=(d=o("eQLRL"),i=o("2oYM3"),d=o("eQLRL"),document.querySelector(".pagination"));function C(t,e){if(1!==e){var a="",n=document.documentElement.scrollWidth,o="",i=1!=t?'<button type="button" class="pagination_button pagination_button-arrow" data-page="'.concat(t-1,'"><i class="fa-solid fa-arrow-left"></i></button>'):"",c=t!=e?'<button type="button" class="pagination_button pagination_button-arrow" data-page="'.concat(t+1,'"><i class="fa-solid fa-arrow-right"></i></button>'):"",l='<button type="button" class="pagination_button" data-page="1">1</button>',d='<button type="button" class="pagination_button" data-page="'.concat(e,'">').concat(e,"</button>"),s='<button type="button" class="pagination_button pagination_button-points">...</button>';if(n<768){a+=i;for(var r=t-2;r<=t+2;r++)o=r,r!=t?r<=e&&r>0&&(a+='<button type="button" class="pagination_button" data-page="'.concat(o,'">').concat(o,"</button>")):a+='<button type="button" class="pagination_button pagination_button-active">'.concat(o,"</button>");a+=c}if(n>=768){if(e<=9){a+=i;for(var u=1;u<=e;u++)o=u,a+=u!=t?'<button type="button" class="pagination_button" data-page="'.concat(o,'">').concat(o,"</button>"):'<button type="button" class="pagination_button pagination_button-active">'.concat(o,"</button>");a+=c}if(e>=10){if(t<=5){a+=i;for(var p=1;p<=7;p++)o=p,a+=p!=t?'<button type="button" class="pagination_button" data-page="'.concat(o,'">').concat(o,"</button>"):'<button type="button" class="pagination_button pagination_button-active">'.concat(o,"</button>");a+=s+d+c}if(t>e-5){a+=i+l+s;for(var m=e-6;m<=e;m++)o=m,a+=m!=t?'<button type="button" class="pagination_button" data-page="'.concat(o,'">').concat(o,"</button>"):'<button type="button" class="pagination_button pagination_button-active">'.concat(o,"</button>");a+=c}if(t>5&&t<=e-5){a+=i+l+s;for(var f=t-2;f<=t+2;f++)o=f,a+=f!=t?'<button type="button" class="pagination_button" data-page="'.concat(o,'">').concat(o,"</button>"):'<button type="button" class="pagination_button pagination_button-active">'.concat(o,"</button>");a+=s+d+c}}}S.innerHTML=a}else refs.paginationBox.innerHTML=""}S.addEventListener("click",(function(t){"BUTTON"===t.target.nodeName&&function(t){document.body.scrollIntoView();var e=Number(t.dataset.page);console.log(i.default),""===i.default.searchParams.query?((0,d.spinnerPlay)(),i.default.getFilmsPopular(e).then((function(t){T(t.results)})).finally((function(){return(0,d.spinnerStop)()}))):((0,d.spinnerPlay)(),i.default.getFilmsSearched(i.default.searchParams.query,e).then((function(t){T(t.results)})).finally((function(){return(0,d.spinnerStop)()})))}(t.target)}));(0,d.spinnerPlay)(),i.default.getFilmsPopular().then((function(t){T(t.results)})).finally((function(){return(0,d.spinnerStop)()}));var F=document.querySelector(".gallery"),T=function(t){var e=t.map((function(t){var e=t.poster_path,a=t.original_title,n=t.genre_ids,o=t.release_date,i=t.id,c=t.vote_average;return'<div class="film__card" data-id='.concat(i,'>\n        <a class="film__link link" href="" onclick="event.preventDefault()">\n          <img class="film__img" src="https://image.tmdb.org/t/p/w500/').concat(e,'" alt="" data-id=').concat(i,' loading="lazy"/>\n          <div class="film__info">\n            <h3 class="film__title">\n              ').concat(a,'\n            </h3>\n            <div class="film__details">\n          <div class="film__genre">').concat(n,'</div>\n          <div class="film__year">').concat(o.substr(0,4),'</div>\n          <div class="film__rating">').concat(c.toFixed(1),"</div>\n          </div>\n          </div>\n        </a>\n      </div>")})).join("");F.innerHTML=e,C(i.default.page,i.default.total_pages)};F.addEventListener("click",(function(t){var e=t.target;if(!e.classList.contains("gallery")){(0,d.spinnerPlay)();var a=e.closest("[data-id]").getAttribute("data-id");i.default.getFilmsById(a).then((function(t){v.showBackdrop.classList.remove("is-hidden"),document.body.classList.add("modal-open");var e,a=q(t);v.modalDetail.innerHTML=a,s.default.currentlyOpenedFilm.filmData=t,function(t){h.apply(this,arguments)}({buttonWatched:(e={closeModalBtn:document.querySelector(".modal-detail__cross-frame"),modalDetail:document.querySelector("[data-detail-modal]"),moviePoster:document.querySelector(".movie-poster"),movieInfo:document.querySelector(".movie-data"),buttonWatched:document.querySelector(".button-watched"),buttonQueue:document.querySelector(".button-queue")}).buttonWatched,buttonQueue:e.buttonQueue,id:t.id}),e.closeModalBtn.addEventListener("click",_),e.buttonWatched.addEventListener("click",x),e.buttonQueue.addEventListener("click",k),e.moviePoster.addEventListener("click",r.openModalTrailer)})).catch((function(t){return console.log(t)})).finally((function(){document.body.classList.add("modal-open"),document.addEventListener("keydown",y),v.modalDetailBackdrop.addEventListener("click",g),(0,d.spinnerStop)()}))}}));d=o("eQLRL");document.querySelector(".form").addEventListener("submit",(function(t){t.preventDefault();var e=t.currentTarget.elements.searchQuery.value.trim().toLowerCase();e?((0,d.spinnerPlay)(),i.default.getFilmsSearched(e).then((function(t){T(t.results)})).finally((function(){return(0,d.spinnerStop)()}))):((0,d.spinnerPlay)(),i.default.getFilmsPopular().then((function(t){T(t.results)})).finally((function(){return(0,d.spinnerStop)()})))})),o("XJkyI"),o("your5"),o("fDiVl"),o("ghI91"),o("aZhHc"),o("ijwS8"),o("2NTPx"),o("2oYM3")}();
//# sourceMappingURL=index.ba751c32.js.map
