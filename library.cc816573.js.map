{"mappings":"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","sources":["src/library.js","src/js/library/header.js","src/js/modal-detail-lib.js","src/js/library/gallery.js"],"sourcesContent":["import '../node_modules/@fortawesome/fontawesome-free/js/fontawesome';\nimport '../node_modules/@fortawesome/fontawesome-free/js/solid';\nimport '../node_modules/@fortawesome/fontawesome-free/js/brands';\n\n// import './js/modal-spinner';\nimport './js/library/header';\nimport './js/index/authenticate';\nimport './js/library/gallery';\nimport './js/index/footer';\n\nimport './js/modal-login';\n// import './js/modal-detail-lib';\nimport './js/button-up';\nimport './js/modal-team';\nimport './js/modal-trailer';\n\nimport './js/firebase/firebase';\nimport './js/moviedb/moviedb';\n","import refs from '../refs';\nimport { refreshLibrary } from '../modal-detail-lib';\n\nrefs.wachedBtn.addEventListener('click', onWatchedBtnClick);\nrefs.queueBtn.addEventListener('click', onQueueBtnClick);\n\nfunction onWatchedBtnClick() {\n  refs.wachedBtn.classList.add('library__btn--currenly');\n  refs.queueBtn.classList.remove('library__btn--currenly');\n  refreshLibrary();\n}\n\nfunction onQueueBtnClick() {\n  refs.wachedBtn.classList.remove('library__btn--currenly');\n  refs.queueBtn.classList.add('library__btn--currenly');\n  refreshLibrary();\n}\n","import movieService from './moviedb/moviedb';\nimport { spinnerPlay, spinnerStop } from './modal-spinner';\nimport cloudStorage from './firebase/cloudstorage';\nimport renderGalleryLib from '../js/library/gallery';\n// import refs from '../js/refs';\nconst { WATCHED, QUEUE, NOT_ADDED } = cloudStorage.tags;\n\nconst ADD = 'add';\nconst DELETE = 'delete';\n\nconst refs = {\n  body: document.querySelector('body'),\n  showBackdrop: document.querySelector('[data-detail-modal]'),\n  modalDetail: document.querySelector('.modal-detal__container'),\n  closeModalBtn: document.querySelector('.modal-detail__cross-frame'),\n  moviePoster: document.querySelector('.movie-poster'),\n  movieInfo: document.querySelector('.movie-data'),\n  modalDetailBackdrop: document.querySelector('.modal-detail__backdrop'),\n  filmGalleryLib: document.querySelector('.gallery-library'),\n  wachedBtn: document.querySelector('.js-btn-watched'),\n  queueBtn: document.querySelector('.js-btn-queue'),\n};\n\nexport function renderModalDetail({ target }) {\n  if (target.classList.contains('gallery')) {\n    return;\n  }\n  spinnerPlay();\n  const filmCard = target.closest('[data-id]');\n  const id = filmCard.getAttribute('data-id');\n  this.id = '';\n  movieService\n    .getFilmsById(id)\n    .then(data => {\n      refs.showBackdrop.classList.remove('is-hidden');\n      const markup = modalDetailMarkup(data);\n      refs.modalDetail.innerHTML = markup;\n      cloudStorage.currentlyOpenedFilm.filmData = data;\n      (() => {\n        const refs = {\n          closeModalBtn: document.querySelector('.modal-detail__cross-frame'),\n          modalDetail: document.querySelector('[data-detail-modal]'),\n          moviePoster: document.querySelector('.movie-poster'),\n          movieInfo: document.querySelector('.movie-data'),\n          buttonWatched: document.querySelector('.button-watched'),\n          buttonQueue: document.querySelector('.button-queue'),\n        };\n\n        setButtonStyle({\n          buttonWatched: refs.buttonWatched,\n          buttonQueue: refs.buttonQueue,\n          id: data.id,\n        });\n\n        refs.closeModalBtn.addEventListener('click', closeModalDetail);\n        refs.buttonWatched.addEventListener('click', onButtonWatchedClick);\n        refs.buttonQueue.addEventListener('click', onButtonQueueClick);\n      })();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      document.body.classList.add('modal-open');\n      document.addEventListener('keydown', onModalDetailKeydown);\n      refs.modalDetailBackdrop.addEventListener(\n        'click',\n        onModalDetailBackdropClick\n      );\n      spinnerStop();\n    });\n}\n\nfunction closeModalDetail() {\n  refs.modalDetailBackdrop.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n  document.removeEventListener('keydown', onModalDetailKeydown);\n  refs.modalDetailBackdrop.removeEventListener(\n    'click',\n    onModalDetailBackdropClick\n  );\n  refreshLibrary();\n}\n\nfunction onModalDetailKeydown(event) {\n  if (event.code === 'Escape') {\n    closeModalDetail();\n  }\n}\n\nfunction onModalDetailBackdropClick(event) {\n  if (event.target === refs.modalDetailBackdrop) {\n    closeModalDetail();\n  }\n}\n\nexport async function refreshLibrary() {\n  let currentLibrary;\n  console.log('in refreshLibrary()');\n  spinnerPlay();\n  try {\n    const btnWatchedCollection = document.querySelector('.js-btn-watched');\n    if (btnWatchedCollection.classList.contains('library__btn--currenly')) {\n      currentLibrary = cloudStorage.tags.WATCHED;\n    } else {\n      currentLibrary = cloudStorage.tags.QUEUE;\n    }\n    await cloudStorage\n      .getUserCollections()\n      .then(films => {\n        const filmsSorted = films?.filter(film => film.tag === currentLibrary);\n        //   console.log(watchedFilms);\n        if (filmsSorted.length) {\n          renderGalleryLib(filmsSorted);\n        } else {\n          refs.filmGalleryLib.innerHTML = ` <h2 class = \"h2-central\">There are no films in \"${currentLibrary}\" collection</h2>`;\n        }\n      })\n      .catch(error => {\n        if (error.message === 'No_USER') {\n          refs.wachedBtn.classList.add('disabled');\n          refs.queueBtn.classList.add('disabled');\n          refs.filmGalleryLib.innerHTML =\n            ' <h2 class = \"h2-central\">Please login to view personal collections</h2>';\n        } else {\n          console.log(error);\n        }\n      });\n  } catch (error) {\n    console.log(error);\n  } finally {\n    spinnerStop();\n  }\n}\n\nasync function setButtonStyle({ buttonWatched, buttonQueue, id }) {\n  const tag = await cloudStorage.searchFilmInCollection(id);\n  if (tag === WATCHED) {\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.classList.add('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  } else if (tag === QUEUE) {\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.classList.add('button-active');\n  } else {\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  }\n}\n\nasync function onButtonWatchedClick({ target: buttonWatched }) {\n  const modalContainer = document.querySelector('.modal-detal__container');\n  const buttonQueue = document.querySelector('.button-queue');\n  const watchedBtnState = buttonWatched.dataset.action;\n  const queueBtnState = buttonQueue.dataset.action;\n  if (watchedBtnState === ADD && queueBtnState === ADD) {\n    cloudStorage.addFilmToCollection(WATCHED);\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.classList.add('button-active');\n  } else if (watchedBtnState === ADD && queueBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    await cloudStorage.addFilmToCollection(WATCHED);\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.classList.add('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  } else if (watchedBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.classList.remove('button-active');\n  }\n  // modalContainer.click();\n}\n\nasync function onButtonQueueClick({ target: buttonQueue }) {\n  const modalContainer = document.querySelector('.modal-detal__container');\n  const buttonWatched = document.querySelector('.button-watched');\n  const watchedBtnState = buttonWatched.dataset.action;\n  const queueBtnState = buttonQueue.dataset.action;\n  if (queueBtnState === ADD && watchedBtnState === ADD) {\n    cloudStorage.addFilmToCollection(QUEUE);\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.classList.add('button-active');\n  } else if (queueBtnState === ADD && watchedBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    await cloudStorage.addFilmToCollection(QUEUE);\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.classList.add('button-active');\n\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n  } else if (queueBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.classList.remove('button-active');\n  }\n  // modalContainer.click();\n}\n\nconst modalDetailMarkup = ({\n  id,\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  genres,\n  overview,\n}) => {\n  return ` <div class=\"modal-detail__cross-frame\">\n      <i class=\"fa-solid fa-xmark\"></i>\n    </div>\n  <div class=\"movie-poster\">\n  <img\n            class=\"movie-image\" data-id=\"${id}\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"\n            alt=\"\"\n          />\n               <div class=\"modal-detail__youtube\" data-modal-youtube>\n      <i class=\"fa-brands fa-youtube\"></i>\n    </div>\n          </div>\n           <div class=\"movie-data\">\n          <h2 class=\"data__title\">${title}</h2>\n          <ul class=\"data__list list\">\n            <li class=\"list__item\">\n              <p class=\"data__item\">Vote / Votes\n              </p>\n              <p class=\"data__info\">\n                <span class=\"data__span data__span--orange\">${vote_average}</span>\n                <span data__span--divider> / </span>\n                <span class=\"data__span\">${vote_count}</span>\n              </p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Popularity</p>\n              <p class=\"data__info\">${popularity}</p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Original Title</p>\n              <p class=\"data__info data__info--upper\">${original_title}</p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Genre</p>\n              <p class=\"data__info\">${genres\n                .map(genre => genre.name)\n                .join(', ')}</p>\n            </li>\n          </ul>\n          <p class=\"data__about\">About</p>\n          <p class=\"data__about-text\">${overview}</p>\n  <div class=\"buttons\">\n        <button\n          type=\"button\"\n          class=\"modal-detail__button button-watched\"\n          data-click=\"addToWached\"\n          data-action=\"add\"\n        >\n          Add to watched\n        </button>\n        <button\n          type=\"button\"\n          data-action=\"add\"\n          class=\"modal-detail__button button-queue\"\n          data-click=\"addToQueue\"\n        >\n          Add to queue\n        </button>\n      </div>\n    </div>`;\n};\n","import { renderModalDetail } from '../modal-detail-lib';\nimport refs from '../refs';\nimport { refreshLibrary } from '../modal-detail-lib';\n\nexport const renderGalleryLib = galleryArray => {\n  refs.filmGalleryLib.innerHTML = ' ';\n  const result = galleryArray\n    .map(\n      ({\n        poster_path,\n        original_title,\n        genre_ids,\n        release_date,\n        id,\n        vote_average,\n      }) => `<div class=\"film__card\" data-id=${id}>\n            <a class=\"film__link link\" href=\"\" onclick=\"event.preventDefault()\">\n            <img class=\"film__img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" loading=\"lazy\" />\n            <div class=\"film__info\">\n                <h3 class=\"film__title\">\n                ${original_title}\n                </h3>\n                <div class=\"film__details\">\n            <div class=\"film__genre\">${genre_ids}</div>\n            <div class=\"film__year\">${release_date.substr(0, 4)}</div>\n            <div class=\"film__rating\">${vote_average.toFixed(1)}</div>\n            </div>\n            </div>\n            </a>\n        </div>`\n    )\n    .join('');\n  refs.filmGalleryLib.innerHTML = result;\n};\n\nrefs.wachedBtn.classList.add('library__btn--currenly');\nrefs.queueBtn.classList.remove('library__btn--currenly');\n\nrefreshLibrary();\n\nrefs.filmGalleryLib.addEventListener('click', renderModalDetail);\n\nexport default renderGalleryLib;\n// refs.themeBtn.addEventListener('input', changeTheme);\n"],"names":["parcelRequire","$4Nugj","$bpxeT","default","wachedBtn","classList","add","queueBtn","remove","$58d2cafe47578f36$export$594cf5cf1eae6182","filmGalleryLib","addEventListener","param","target","contains","$eQLRL","spinnerPlay","id","closest","getAttribute","this","$2oYM3","getFilmsById","then","data","$58d2cafe47578f36$var$refs","showBackdrop","refs1","markup","$58d2cafe47578f36$var$modalDetailMarkup","modalDetail","innerHTML","$hRbC3","currentlyOpenedFilm","filmData","_","$58d2cafe47578f36$var$_setButtonStyle","apply","arguments","$58d2cafe47578f36$var$setButtonStyle","buttonWatched","closeModalBtn","document","querySelector","moviePoster","movieInfo","buttonQueue","$58d2cafe47578f36$var$closeModalDetail","$58d2cafe47578f36$var$onButtonWatchedClick","$58d2cafe47578f36$var$onButtonQueueClick","catch","error","console","log","finally","body","$58d2cafe47578f36$var$onModalDetailKeydown","modalDetailBackdrop","$58d2cafe47578f36$var$onModalDetailBackdropClick","spinnerStop","$2e62e64138152ef0$export$2e2bcd8739ae039","galleryArray","result","map","poster_path","original_title","genre_ids","release_date","vote_average","concat","substr","toFixed","join","$58d2cafe47578f36$var$_tags","tags","$58d2cafe47578f36$var$WATCHED","WATCHED","$58d2cafe47578f36$var$QUEUE","QUEUE","$58d2cafe47578f36$var$ADD","NOT_ADDED","$58d2cafe47578f36$var$DELETE","removeEventListener","event","code","$58d2cafe47578f36$var$_refreshLibrary","$parcel$interopDefault","$2TvXO","mark","_callee","currentLibrary","btnWatchedCollection","getUserCollections","films","filmsSorted","filter","film","tag","length","message","_ctx","t0","searchFilmInCollection","sent","textContent","dataset","action","$58d2cafe47578f36$var$_onButtonWatchedClick","watchedBtnState","queueBtnState","addFilmToCollection","deleteFilmFromCollection","$58d2cafe47578f36$var$_onButtonQueueClick","title","vote_count","popularity","genres","overview","genre","name"],"version":3,"file":"library.cc816573.js.map"}