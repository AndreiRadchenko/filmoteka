{"mappings":"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","sources":["src/index.js","src/js/index/header.js","src/js/modal-detail.js","src/js/index/gallery.js","src/js/index/pagination.js"],"sourcesContent":["import '../node_modules/@fortawesome/fontawesome-free/js/fontawesome';\nimport '../node_modules/@fortawesome/fontawesome-free/js/solid';\nimport '../node_modules/@fortawesome/fontawesome-free/js/brands';\n\n// import './js/modal-spinner';\nimport './js/index/header';\nimport './js/index/authenticate';\nimport './js/index/gallery';\nimport './js/index/pagination';\nimport './js/index/footer';\n\nimport './js/modal-login';\n// import './js/modal-detail';\nimport './js/button-up';\nimport './js/modal-team';\nimport './js/modal-trailer';\n\nimport './js/firebase/firebase';\nimport './js/moviedb/moviedb';\n","import movieService from '../moviedb/moviedb';\nimport { renderGallery } from '../index/gallery';\nimport { query } from 'firebase/firestore';\n\n// ця функція повинна визиватись по кліку на лупу і підставляти замість\n// 'search query' рядок з інпута\n// movieService.getFilmsSearched().then(resolve => {\n//   renderGallery(resolve.results);\n// });\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleSubmit);\n\nexport function handleSubmit(event) {\n  event.preventDefault();\n\n  const {\n    elements: { searchQuery },\n  } = event.currentTarget;\n  const query = searchQuery.value.trim().toLowerCase();\n  if (!query) {\n    console.error('Ввдедіть дані для пошуку!!!');\n    return;\n  }\n  movieService.getFilmsSearched.query = query;\n\n  movieService.getFilmsSearched(query).then(resolve => {\n    renderGallery(resolve.results);\n  });\n}\n","import movieService from '../js/moviedb/moviedb';\nimport { spinnerPlay, spinnerStop } from './modal-spinner';\nimport cloudStorage from './firebase/cloudstorage';\nconst { WATCHED, QUEUE, NOT_ADDED } = cloudStorage.tags;\n\nimport { openModalTrailer, closeModalTrailer } from './modal-trailer';\n\nconst ADD = 'add';\nconst DELETE = 'delete';\n\nconst refs = {\n  body: document.querySelector('body'),\n  showBackdrop: document.querySelector('[data-detail-modal]'),\n  modalDetail: document.querySelector('.modal-detal__container'),\n  closeModalBtn: document.querySelector('.modal-detail__cross-frame'),\n  moviePoster: document.querySelector('.movie-poster'),\n  movieInfo: document.querySelector('.movie-data'),\n  modalDetailBackdrop: document.querySelector('.modal-detail__backdrop'),\n};\n\nexport function renderModalDetail({ target }) {\n  if (target.classList.contains('gallery')) {\n    return;\n  }\n  spinnerPlay();\n  const filmCard = target.closest('[data-id]');\n  const id = filmCard.getAttribute('data-id');\n  this.id = '';\n  movieService\n    .getFilmsById(id)\n    .then(data => {\n      refs.showBackdrop.classList.remove('is-hidden');\n      document.body.classList.add('modal-open');\n      const markup = modalDetailMarkup(data);\n      refs.modalDetail.innerHTML = markup;\n      cloudStorage.currentlyOpenedFilm.filmData = data;\n      (() => {\n        const refs = {\n          closeModalBtn: document.querySelector('.modal-detail__cross-frame'),\n          modalDetail: document.querySelector('[data-detail-modal]'),\n          moviePoster: document.querySelector('.movie-poster'),\n          movieInfo: document.querySelector('.movie-data'),\n          buttonWatched: document.querySelector('.button-watched'),\n          buttonQueue: document.querySelector('.button-queue'),\n        };\n\n        setButtonStyle({\n          buttonWatched: refs.buttonWatched,\n          buttonQueue: refs.buttonQueue,\n          id: data.id,\n        });\n\n        refs.closeModalBtn.addEventListener('click', closeModalDetail);\n        refs.buttonWatched.addEventListener('click', onButtonWatchedClick);\n        refs.buttonQueue.addEventListener('click', onButtonQueueClick);\n        refs.moviePoster.addEventListener('click', openModalTrailer);\n      })();\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      document.body.classList.add('modal-open');\n      document.addEventListener('keydown', onModalDetailKeydown);\n      refs.modalDetailBackdrop.addEventListener(\n        'click',\n        onModalDetailBackdropClick\n      );\n      spinnerStop();\n    });\n}\n\n// function onMoviePosterClick() {\n//   refs.modalTrailerBackdrop.classList.remove('is-hidden');\n// }\n\n// function onModalTrailerCloseBtnClick() {\n//   refs.modalTrailerBackdrop.classList.add('is-hidden');\n// }\n\nfunction closeModalDetail() {\n  refs.modalDetailBackdrop.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n  document.removeEventListener('keydown', onModalDetailKeydown);\n  refs.modalDetailBackdrop.removeEventListener(\n    'click',\n    onModalDetailBackdropClick\n  );\n}\n\nfunction onModalDetailKeydown(event) {\n  if (event.code === 'Escape') {\n    closeModalDetail();\n  }\n}\n\nfunction onModalDetailBackdropClick(event) {\n  if (event.target === refs.modalDetailBackdrop) {\n    closeModalDetail();\n  }\n}\n\nasync function setButtonStyle({ buttonWatched, buttonQueue, id }) {\n  const tag = await cloudStorage.searchFilmInCollection(id);\n  if (tag === WATCHED) {\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.classList.add('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  } else if (tag === QUEUE) {\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n\n    buttonQueue.textContent = 'Remove from queue';\n    buttonQueue.dataset.action = DELETE;\n    buttonQueue.classList.add('button-active');\n  } else {\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.classList.remove('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  }\n}\n\nasync function onButtonWatchedClick({ target: buttonWatched }) {\n  const modalContainer = document.querySelector('.modal-detal__container');\n  const buttonQueue = document.querySelector('.button-queue');\n  const watchedBtnState = buttonWatched.dataset.action;\n  const queueBtnState = buttonQueue.dataset.action;\n  if (watchedBtnState === ADD && queueBtnState === ADD) {\n    try {\n      await cloudStorage.addFilmToCollection(WATCHED);\n      buttonWatched.dataset.action = DELETE;\n      buttonWatched.textContent = 'Remove from watched';\n      buttonWatched.classList.add('button-active');\n    } catch (error) {}\n  } else if (watchedBtnState === ADD && queueBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    await cloudStorage.addFilmToCollection(WATCHED);\n    buttonWatched.dataset.action = DELETE;\n    buttonWatched.textContent = 'Remove from watched';\n    buttonWatched.classList.add('button-active');\n\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.classList.remove('button-active');\n  } else if (watchedBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    buttonWatched.dataset.action = ADD;\n    buttonWatched.textContent = 'Add to watched';\n    buttonWatched.classList.remove('button-active');\n  }\n  // modalContainer.click();\n}\n\nasync function onButtonQueueClick({ target: buttonQueue }) {\n  const modalContainer = document.querySelector('.modal-detal__container');\n  const buttonWatched = document.querySelector('.button-watched');\n  const watchedBtnState = buttonWatched.dataset.action;\n  const queueBtnState = buttonQueue.dataset.action;\n  if (queueBtnState === ADD && watchedBtnState === ADD) {\n    try {\n      await cloudStorage.addFilmToCollection(QUEUE);\n      buttonQueue.dataset.action = DELETE;\n      buttonQueue.textContent = 'Remove from queue';\n      buttonQueue.classList.add('button-active');\n    } catch (error) {}\n  } else if (queueBtnState === ADD && watchedBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    try {\n      await cloudStorage.addFilmToCollection(QUEUE);\n      buttonQueue.dataset.action = DELETE;\n      buttonQueue.textContent = 'Remove from queue';\n      buttonQueue.classList.add('button-active');\n\n      buttonWatched.textContent = 'Add to watched';\n      buttonWatched.dataset.action = ADD;\n      buttonWatched.classList.remove('button-active');\n    } catch (error) {}\n  } else if (queueBtnState === DELETE) {\n    await cloudStorage.deleteFilmFromCollection(\n      cloudStorage.currentlyOpenedFilm.filmData.id\n    );\n    buttonQueue.dataset.action = ADD;\n    buttonQueue.textContent = 'Add to queue';\n    buttonQueue.classList.remove('button-active');\n  }\n  // modalContainer.click();\n}\n\nconst modalDetailMarkup = ({\n  id,\n  poster_path,\n  title,\n  vote_average,\n  vote_count,\n  popularity,\n  original_title,\n  genres,\n  overview,\n}) => {\n  return ` <div class=\"modal-detail__cross-frame\">\n      <i class=\"fa-solid fa-xmark\"></i>\n    </div>\n  <div class=\"movie-poster\">\n  <img\n            class=\"movie-image\" data-id=\"${id}\"\n            src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"\n            alt=\"\"\n          />\n          <div class=\"modal-detail__youtube\" data-modal-youtube>\n      <i class=\"fa-brands fa-youtube\"></i>\n    </div>\n          </div>\n           <div class=\"movie-data\">\n          <h2 class=\"data__title\">${title}</h2>\n          <ul class=\"data__list list\">\n            <li class=\"list__item\">\n              <p class=\"data__item\">Vote / Votes\n              </p>\n              <p class=\"data__info\">\n                <span class=\"data__span data__span--orange\">${vote_average}</span>\n                <span data__span--divider> / </span>\n                <span class=\"data__span\">${vote_count}</span>\n              </p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Popularity</p>\n              <p class=\"data__info\">${popularity}</p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Original Title</p>\n              <p class=\"data__info data__info--upper\">${original_title}</p>\n            </li>\n            <li class=\"list__item\">\n              <p class=\"data__item\">Genre</p>\n              <p class=\"data__info\">${genres\n                .map(genre => genre.name)\n                .join(', ')}</p>\n            </li>\n          </ul>\n          <p class=\"data__about\">About</p>\n          <p class=\"data__about-text\">${overview}</p>\n  <div class=\"buttons\">\n        <button\n          type=\"button\"\n          class=\"modal-detail__button button-watched\"\n          data-click=\"addToWached\"\n          data-action=\"add\"\n        >\n          Add to watched\n        </button>\n        <button\n          type=\"button\"\n          data-action=\"add\"\n          class=\"modal-detail__button button-queue\"\n          data-click=\"addToQueue\"\n        >\n          Add to queue\n        </button>\n      </div>\n    </div>`;\n};\n","import movieService from '../moviedb/moviedb';\nimport { renderModalDetail } from '../modal-detail';\nimport { spinnerPlay, spinnerStop } from '../modal-spinner';\nimport { createPagination } from '../index/pagination';\nimport { genresArray } from '../moviedb/genres';\n\nspinnerPlay();\nmovieService\n  .getFilmsPopular()\n  .then(resolve => {\n    renderGallery(resolve.results);\n  })\n  .finally(() => spinnerStop());\n\nexport const filmGallery = document.querySelector('.gallery');\nexport const renderGallery = galleryArray => {\n  const result = galleryArray\n    .map(\n      ({\n        poster_path,\n        original_title,\n        genre_ids,\n        release_date,\n        id,\n        vote_average,\n      }) => `<div class=\"film__card\" data-id=${id}>\n        <a class=\"film__link link\" href=\"\" onclick=\"event.preventDefault()\">\n          <img class=\"film__img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" data-id=${id} loading=\"lazy\"/>\n          <div class=\"film__info\">\n            <h3 class=\"film__title\">\n              ${original_title}\n            </h3>\n            <div class=\"film__details\">\n          <div class=\"film__genre\">${genre_ids}</div>\n          <div class=\"film__year\">${release_date.substr(0, 4)}</div>\n          <div class=\"film__rating\">${vote_average.toFixed(1)}</div>\n          </div>\n          </div>\n        </a>\n      </div>`\n    )\n    .join('');\n\n  //   filmGallery.insertAdjacentHTML('beforeend', result);\n  // filmGallery.insertAdjacentHTML('beforeend', result);\n  filmGallery.innerHTML = result;\n  createPagination(movieService.page, movieService.total_pages);\n};\n\nfilmGallery.addEventListener('click', renderModalDetail);\n\n// function receiveGenresNames(genre_id) {\n//   const genreName = genresArray.find(num => genre_id === num.id);\n//   if (genreName) {\n//     return genreName.name;\n//   } else {\n//     return 'Other';\n//   }\n// }\n\n// function receiveGenresArray(genre_id) {\n//   const genresArray = genreId.map(receiveGenresNames);\n\n//   if (genresArray.length <= 2) {\n//     return genresArray.join(', ');\n//   } else {\n//     return `${genresArray.slice(0, 2).join(', ')}, Other`;\n//   }\n// }\n","import movieService from '../moviedb/moviedb';\nimport { spinnerPlay, spinnerStop } from '../modal-spinner';\nimport { renderGallery } from './gallery';\n\nconst paginationBox = document.querySelector('.pagination');\n\nexport function createPagination(page, totalPage) {\n  if (totalPage === 1) {\n    refs.paginationBox.innerHTML = '';\n    return;\n  }\n\n  let paginationMarkUp = '';\n  const pageWidth = document.documentElement.scrollWidth;\n\n  // document.body.offsetWidth,\n  // document.documentElement.offsetWidth,\n  // document.documentElement.clientWidth\n\n  let dataPage = '';\n\n  //arrow buttons\n  let leftBtn =\n    page != 1\n      ? `<button type=\"button\" class=\"pagination_button pagination_button-arrow\" data-page=\"${\n          page - 1\n        }\"><i class=\"fa-solid fa-arrow-left\"></i></button>`\n      : '';\n\n  let rightBtn =\n    page != totalPage\n      ? `<button type=\"button\" class=\"pagination_button pagination_button-arrow\" data-page=\"${\n          page + 1\n        }\"><i class=\"fa-solid fa-arrow-right\"></i></button>`\n      : '';\n\n  let firstBtn = `<button type=\"button\" class=\"pagination_button\" data-page=\"1\">1</button>`;\n  let lastBtn = `<button type=\"button\" class=\"pagination_button\" data-page=\"${totalPage}\">${totalPage}</button>`;\n  let pointBtn = `<button type=\"button\" class=\"pagination_button pagination_button-points\">...</button>`;\n\n  if (pageWidth < 768) {\n    paginationMarkUp += leftBtn;\n\n    for (let i = page - 2; i <= page + 2; i++) {\n      dataPage = i;\n\n      if (i == page) {\n        paginationMarkUp += `<button type=\"button\" class=\"pagination_button pagination_button-active\">${dataPage}</button>`;\n        continue;\n      }\n      if (i <= totalPage && i > 0)\n        paginationMarkUp += `<button type=\"button\" class=\"pagination_button\" data-page=\"${dataPage}\">${dataPage}</button>`;\n    }\n\n    paginationMarkUp += rightBtn;\n  }\n\n  if (pageWidth >= 768) {\n    if (totalPage <= 9) {\n      paginationMarkUp += leftBtn;\n      for (let i = 1; i <= totalPage; i++) {\n        dataPage = i;\n\n        if (i == page) {\n          paginationMarkUp += `<button type=\"button\" class=\"pagination_button pagination_button-active\">${dataPage}</button>`;\n          continue;\n        }\n        paginationMarkUp += `<button type=\"button\" class=\"pagination_button\" data-page=\"${dataPage}\">${dataPage}</button>`;\n      }\n\n      paginationMarkUp += rightBtn;\n    }\n\n    if (totalPage >= 10) {\n      if (page <= 5) {\n        paginationMarkUp += leftBtn;\n\n        for (let i = 1; i <= 7; i++) {\n          dataPage = i;\n\n          if (i == page) {\n            paginationMarkUp += `<button type=\"button\" class=\"pagination_button pagination_button-active\">${dataPage}</button>`;\n            continue;\n          }\n          paginationMarkUp += `<button type=\"button\" class=\"pagination_button\" data-page=\"${dataPage}\">${dataPage}</button>`;\n        }\n\n        paginationMarkUp += pointBtn + lastBtn + rightBtn;\n      }\n\n      if (page > totalPage - 5) {\n        paginationMarkUp += leftBtn + firstBtn + pointBtn;\n\n        for (let i = totalPage - 6; i <= totalPage; i++) {\n          dataPage = i;\n          if (i == page) {\n            paginationMarkUp += `<button type=\"button\" class=\"pagination_button pagination_button-active\">${dataPage}</button>`;\n            continue;\n          }\n          paginationMarkUp += `<button type=\"button\" class=\"pagination_button\" data-page=\"${dataPage}\">${dataPage}</button>`;\n        }\n        paginationMarkUp += rightBtn;\n      }\n\n      if (page > 5 && page <= totalPage - 5) {\n        paginationMarkUp += leftBtn + firstBtn + pointBtn;\n\n        for (let i = page - 2; i <= page + 2; i++) {\n          dataPage = i;\n          if (i == page) {\n            paginationMarkUp += `<button type=\"button\" class=\"pagination_button pagination_button-active\">${dataPage}</button>`;\n            continue;\n          }\n          paginationMarkUp += `<button type=\"button\" class=\"pagination_button\" data-page=\"${dataPage}\">${dataPage}</button>`;\n        }\n        paginationMarkUp += pointBtn + lastBtn + rightBtn;\n      }\n    }\n  }\n  paginationBox.innerHTML = paginationMarkUp;\n}\n\nfunction onPaginationBtnClick(e) {\n  document.body.scrollIntoView();\n  const page = Number(e.dataset.page);\n\n  spinnerPlay();\n  movieService\n    .getFilmsPopular(page)\n    .then(resolve => {\n      renderGallery(resolve.results);\n    })\n    .finally(() => spinnerStop());\n}\n\npaginationBox.addEventListener('click', e => {\n  if (e.target.nodeName !== \"BUTTON\") {\n    return;\n  }\n  onPaginationBtnClick(e.target);\n});\n"],"names":["parcelRequire","$2oYM3","$bpxeT","$6995f0a8f73edc03$var$_tags","$hRbC3","default","tags","$6995f0a8f73edc03$var$WATCHED","WATCHED","$6995f0a8f73edc03$var$QUEUE","QUEUE","$6995f0a8f73edc03$var$ADD","NOT_ADDED","$6995f0a8f73edc03$var$DELETE","$6995f0a8f73edc03$var$refs","body","document","querySelector","showBackdrop","modalDetail","closeModalBtn","moviePoster","movieInfo","modalDetailBackdrop","$6995f0a8f73edc03$var$closeModalDetail","classList","add","remove","removeEventListener","$6995f0a8f73edc03$var$onModalDetailKeydown","$6995f0a8f73edc03$var$onModalDetailBackdropClick","event","code","target","$6995f0a8f73edc03$var$_setButtonStyle","$parcel$interopDefault","$2TvXO","mark","_callee","param","buttonWatched","buttonQueue","id","tag","searchFilmInCollection","_ctx","sent","textContent","dataset","action","apply","this","arguments","$6995f0a8f73edc03$var$onButtonWatchedClick","_","$6995f0a8f73edc03$var$_onButtonWatchedClick","watchedBtnState","queueBtnState","addFilmToCollection","deleteFilmFromCollection","currentlyOpenedFilm","filmData","$6995f0a8f73edc03$var$onButtonQueueClick","$6995f0a8f73edc03$var$_onButtonQueueClick","$6995f0a8f73edc03$var$modalDetailMarkup","poster_path","title","vote_average","vote_count","popularity","original_title","genres","overview","concat","map","genre","name","join","$9b9fabc15a9d5a4e$var$paginationBox","$9b9fabc15a9d5a4e$export$7f3155e3cda021fd","page","totalPage","paginationMarkUp","pageWidth","documentElement","scrollWidth","dataPage","leftBtn","rightBtn","firstBtn","lastBtn","pointBtn","i","i1","i2","i3","i4","innerHTML","refs","paginationBox","addEventListener","e","nodeName","scrollIntoView","Number","$eQLRL","spinnerPlay","getFilmsPopular","then","resolve","$4e9f4b1ede3cea63$export$30b0ee8bdb5cac31","results","finally","spinnerStop","$9b9fabc15a9d5a4e$var$onPaginationBtnClick","$4e9f4b1ede3cea63$export$f1d5f55a5f39474","galleryArray","result","genre_ids","release_date","substr","toFixed","total_pages","contains","closest","getAttribute","getFilmsById","data","refs1","markup","$6995f0a8f73edc03$var$setButtonStyle","$ijwS8","openModalTrailer","catch","error","console","log","preventDefault","query1","currentTarget","elements","searchQuery","value","trim","toLowerCase","getFilmsSearched","query"],"version":3,"file":"index.1cee05fc.js.map"}